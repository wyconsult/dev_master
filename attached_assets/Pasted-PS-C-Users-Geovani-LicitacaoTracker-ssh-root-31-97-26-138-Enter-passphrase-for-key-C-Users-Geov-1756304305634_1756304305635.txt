PS C:\Users\Geovani\LicitacaoTracker> ssh root@31.97.26.138
Enter passphrase for key 'C:\Users\Geovani/.ssh/id_rsa': 
Welcome to Ubuntu 24.04.2 LTS (GNU/Linux 6.8.0-71-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Wed Aug 27 14:16:45 UTC 2025

  System load:  0.0                Processes:             142
  Usage of /:   2.6% of 192.69GB   Users logged in:       0
  Memory usage: 6%                 IPv4 address for eth0: 31.97.26.138
  Swap usage:   0%                 IPv6 address for eth0: 2a02:4780:14:18d0::1

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

73 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

7 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


1 updates could not be installed automatically. For more details,
see /var/log/unattended-upgrades/unattended-upgrades.log

*** System restart required ***
Last login: Wed Aug 27 14:10:29 2025 from 189.89.90.75
root@srv851565:~# cd ~/dev_master
root@srv851565:~/dev_master# git reset --hard origin/main
HEAD is now at daaa8f6 Update server initialization script to fix database connection errors
root@srv851565:~/dev_master# git pull origin main
Enter passphrase for key '/root/.ssh/id_rsa': 
remote: Enumerating objects: 10, done.
remote: Counting objects: 100% (10/10), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 7 (delta 5), reused 7 (delta 5), pack-reused 0 (from 0)
Unpacking objects: 100% (7/7), 3.99 KiB | 1021.00 KiB/s, done.
From github.com:wyconsult/dev_master
 * branch            main       -> FETCH_HEAD
   daaa8f6..b4ed13b  main       -> origin/main
Updating daaa8f6..b4ed13b
Fast-forward
 FIX_GIT_SETUP.bat                                                                                                                    |  22 ++++++++++----
 ...d-PS-C-Users-Geovani-LicitacaoTracker-ssh-root-31-97-26-138-Enter-passphrase-for-key-C-Users-Geov-1756303923844_1756303923845.txt | 111 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
 2 files changed, 127 insertions(+), 6 deletions(-)
 create mode 100644 attached_assets/Pasted-PS-C-Users-Geovani-LicitacaoTracker-ssh-root-31-97-26-138-Enter-passphrase-for-key-C-Users-Geov-1756303923844_1756303923845.txt
root@srv851565:~/dev_master# npm ci
npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead

added 512 packages, and audited 513 packages in 11s

68 packages are looking for funding
  run `npm fund` for details

10 vulnerabilities (3 low, 6 moderate, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
root@srv851565:~/dev_master# npm run build

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.14 building for production...
Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
✓ 2695 modules transformed.
../dist/public/index.html                   0.94 kB │ gzip:   0.54 kB
../dist/public/assets/index-Dg6TNey1.css   85.09 kB │ gzip:  14.27 kB
../dist/public/assets/index-D2asLSZM.js   624.26 kB │ gzip: 187.31 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
✓ built in 6.14s

  dist/index.js  73.3kb

⚡ Done in 9ms
root@srv851565:~/dev_master# node scripts/init-db.js  # só na primeira vez
file:///root/dev_master/scripts/init-db.js:1
const mysql = require('mysql2/promise');
              ^

ReferenceError: require is not defined in ES module scope, you can use import instead
This file is being treated as an ES module because it has a '.js' file extension and '/root/dev_master/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
    at file:///root/dev_master/scripts/init-db.js:1:15
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)

Node.js v22.16.0
root@srv851565:~/dev_master# node scripts/init-db.js
file:///root/dev_master/scripts/init-db.js:1
const mysql = require('mysql2/promise');
              ^

ReferenceError: require is not defined in ES module scope, you can use import instead
This file is being treated as an ES module because it has a '.js' file extension and '/root/dev_master/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
    at file:///root/dev_master/scripts/init-db.js:1:15
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)

Node.js v22.16.0
root@srv851565:~/dev_master# pm2 restart all
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [all](ids: [ 0 ])
[PM2] [jlg-licita](0) ✓
┌────┬───────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name          │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼───────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ jlg-licita    │ default     │ 1.0.0   │ fork    │ 170171   │ 0s     │ 30   │ online    │ 0%       │ 21.0mb   │ root     │ disabled │
└────┴───────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
root@srv851565:~/dev_master# 